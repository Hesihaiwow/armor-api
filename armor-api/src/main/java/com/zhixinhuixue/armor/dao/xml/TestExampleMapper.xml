<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhixinhuixue.armor.dao.IZSYTestExampleMapper">
    <resultMap id="BaseResultMap" type="com.zhixinhuixue.armor.model.pojo.TestExample">
        <id column="id" jdbcType="BIGINT" property="id" />
        <result column="name" jdbcType="VARCHAR" property="name" />
        <result column="task_id" jdbcType="BIGINT" property="taskId"/>
        <result column="function_id" jdbcType="BIGINT" property="functionId"/>
        <result column="check_point" jdbcType="VARCHAR" property="checkPoint" />
        <result column="expect_result" jdbcType="VARCHAR" property="expectResult" />
        <result column="remark" jdbcType="VARCHAR" property="remark" />
        <result column="status" jdbcType="INTEGER" property="status" />
        <result column="exam_status" jdbcType="INTEGER" property="examStatus" />
        <result column="create_by" jdbcType="BIGINT" property="createBy"/>
        <result column="create_name" jdbcType="VARCHAR" property="createName" />
        <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
        <result column="update_by" jdbcType="BIGINT" property="updateBy"/>
        <result column="update_name" jdbcType="VARCHAR" property="updateName" />
        <result column="process_time" jdbcType="TIMESTAMP" property="updateTime" />
    </resultMap>

    <!--新增-->
    <insert id="insert" parameterType="com.zhixinhuixue.armor.model.pojo.TestExample">
        INSERT INTO `test_example`
        (`id`,`name`,`task_id`,`function_id`,`check_point`,`expect_result`,`remark`
        ,`status`,`exam_status`,`create_by`,`update_by`,`create_name`,`update_name`
        `create_time`,`update_time`)
        VALUES
        (#{id,jdbcType=BIGINT},#{name,jdbcType=VARCHAR},#{taskId,jdbcType=BIGINT}
        ,#{functionId,jdbcType=BIGINT},#{checkPoint,jdbcType=VARCHAR},#{expectResult,jdbcType=VARCHAR}
        ,#{remark,jdbcType=VARCHAR},#{status,jdbcType=INTEGER},#{examStatus,jdbcType=INTEGER}
        ,#{createBy,jdbcType=BIGINT},#{updateBy,jdbcType=BIGINT},#{createName,jdbcType=VARCHAR}
        ,#{updateName,jdbcType=VARCHAR},#{#{createTime,jdbcType=TIMESTAMP},#{updateTime,jdbcType=TIMESTAMP})
    </insert>

    <!--根据名称查询-->
    <select id="selectByNameAndTaskAndFunction" resultMap="BaseResultMap">
        SELECT * FROM `test_example` WHERE `name` = #{name} AND `task_id` = taskId AND `function_id` = #{functionId}
    </select>

    <!--根据功能点id查询测试用例-->
    <select id="selectByFunction" resultMap="BaseResultMap">
        SELECT * FROM `test_example` WHERE `function_id` = #{functionId}
    </select>


</mapper>